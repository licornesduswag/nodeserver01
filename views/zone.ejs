<% include header.ejs %>

<% if (typeof login !== 'undefined') { %>
<h1>Gestion des zones</h1>

<a href="/ajout_zone" class="btn btn-default">Ajouter une zone</a>
<% } %>

<h2>Carte des zones</h2>

<!-- Set height and width with CSS -->
<div id="googleMap" style="height:700px;width:100%;"></div>

<!-- Add Google Maps -->
<script src="http://maps.googleapis.com/maps/api/js"></script>

<script>

var myCenter = new google.maps.LatLng(48.0, -81.0);

function initialize() {
	var mapProp = {
	center:myCenter,
	zoom:12,
	scrollwheel:true,
	draggable:true,
	mapTypeId:google.maps.MapTypeId.ROADMAP
	};

	var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);

	<% for(var i=0; i<liste.length; i++) { %>
		var marker<%=i%> = new google.maps.Marker({
			position:{lat: <%= liste[i].lat %>, lng: <%= liste[i].longi %>}
		});

		marker<%=i%>.setMap(map);
	<% } %>


	var myCity = new google.maps.Circle({
		center: myCenter,
		radius:2000,
		strokeColor:'#FF0000',
		strokeOpacity:0.8,
		strokeWeight:2,
		fillColor:'#FF00FF',
		fillOpacity:0.35,
		map: map
	});

	myCity.setMap(map);
}
google.maps.event.addDomListener(window, 'load', initialize);

</script>


<% include footer.ejs %>
